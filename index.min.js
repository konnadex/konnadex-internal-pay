(()=>{"use strict";var n={"./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/(e,t,n)=>{n.r(t),n.d(t,{BLOCKNETWORK:()=>r,ENVIRONMENT:()=>i,PRODUCT_TYPE:()=>o,SDK_BASE_URL:()=>s,supportedProps:()=>a}),(n=o=o||{}).INVOICE="INVOICE",n.QUICK_INVOICE="QUICK_INVOICE",n.SALARY="SALARY",(t=i=i||{}).DEVELOPMENT="DEVELOPMENT",t.PRODUCTION="PRODUCTION",t.TEST="TEST",(n=r=r||{}).BINANCE="BINANCE",n.ETHEREUM="ETHEREUM",n.POLYGON="POLYGON",n.ACH="ACH";var o,i,r,a=["key","reference","amount","network","paymentAsset","displayAsset","productType","env","theme","onSuccess","onError","onClose"],s="https://payment.konnadex.com/contract"},"./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/(e,t,n)=>{n.r(t),n.d(t,{utils:()=>i});var o=n(/*! ./types */"./src/types/index.ts"),i=function(){var i,l=o.SDK_BASE_URL,c="konnadex-checkout-id",u="pay-widget-wrapper";function y(){i&&clearTimeout(i);var e=document.getElementById(u);document.body.removeChild(e),window.parent.document.body.style.overflow="scroll"}return{openWidget:function(){var e=document.getElementById(u),t=window.parent.document.body,n=document.getElementById("pay-app-loader"),o=document.getElementById(c);t.style.overflow="hidden",e.style.visibility="visible",e.style.display="flex",n.style.display="block",i=setTimeout(function(){var e=document.getElementById(u);e.style.display="flex",o.style.display="block",[e,o].forEach(function(e){e.style.visibility="visible",e.focus({preventScroll:!1})})},1500)},closeWidget:y,init:function(e){var t=e.title,n=e.config;document.getElementById(u)&&document.getElementById(c)&&(console.log("Closing in a bad way"),y());(e=document.createElement("style")).innerText=g,document.head.appendChild(e);var e=document.createElement("div"),o=document.createElement("div"),i=(e.setAttribute("id","pay-app-loader"),e.classList.add("app-loader"),o.classList.add("app-loader__spinner"),document.createElementNS("http://www.w3.org/2000/svg","svg"));i.setAttribute("width","44"),i.setAttribute("height","53"),i.setAttribute("viewBox","0 0 44 53"),i.setAttribute("fill","none");(d=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d","M0.773438 27.0148V3.97296C0.773438 3.75857 0.9324 3.57742 1.14497 3.54957C9.59538 2.44231 14.9502 12.3499 9.39431 18.8127L1.96382 27.4561C1.5544 27.9323 0.773438 27.6428 0.773438 27.0148Z"),d.setAttribute("fill","#1141D2");var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d","M7.83847 25.7005L27.5516 5.19924C28.414 4.30238 29.6045 3.79553 30.8487 3.79553H39.9346C41.1413 3.79553 41.7605 5.24097 40.9279 6.11446L20.4604 27.5895L41.2653 49.1939C42.0439 50.0024 41.5753 51.3528 40.4632 51.5052L33.0139 52.5262C31.5814 52.7225 30.1404 52.2299 29.1278 51.1979L12.4039 34.1521V48.344C12.4039 49.2746 12.2521 50.2403 11.6352 50.937C9.15894 53.7335 3.88868 52.9906 1.88828 50.2545C1.46316 49.673 1.35092 48.9367 1.32567 48.2168L1.14925 43.1864C0.92151 36.6928 3.3349 30.3841 7.83847 25.7005Z"),r.setAttribute("fill","#FF8300"),i.appendChild(d),i.appendChild(r),o.appendChild(i);for(var a=0;a<12;a++){var s=document.createElement("div");o.appendChild(s)}e.appendChild(o);var d=new URL(l),p=((r=document.createElement("div")).setAttribute("id",u),r.setAttribute("style",f),document.body.insertBefore(r,document.body.childNodes[0]),document.getElementById(u).appendChild(e),document.createElement("iframe"));return[{key:"src",val:d.href},{key:"style",val:m},{key:"id",val:c},{key:"allowfullscreen",val:"true"},{key:"allowpaymentrequest",val:"true"},{key:"title",val:t},{key:"sandbox",val:"allow-forms allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-popups"}].forEach(function(e){var t=e.key,e=e.val;return p.setAttribute(t,e)}),p.onload=function(){p.contentWindow.postMessage({type:"konnaInitData",config:n},l)},document.getElementById(u).appendChild(p),window.closePayFrame=y,p}}},f="position:fixed;overflow: hidden;display: none;justify-content: center;align-items: center;z-index: 999999999;height: 100%;width: 100%;color: transparent;background: rgba(0,0,0,0.8);visibility:hidden;margin: 0;top:0;right:0;bottom:0;left:0;backdrop-filter: blur(2px);",m="position: fixed;display: none;overflow: hidden;z-index: 999999999;width: 100%;height: 100%;transition: opacity 0.3s ease 0s;visibility:hidden;margin: 0;top:0;right:0;bottom:0;left:0; border: none",g='.app-loader {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 450ms ease;\n  -webki-transition: all 450ms ease;\n}\n@-webkit-keyframes app-loader__spinner {\n  0% {\n    // opacity: 1;\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    // opacity: 0;\n    -webkit-transform: rotate(0deg);\n    transform: rotate(360deg);\n  }\n}\n.app-loader__spinner {\n  position: relative;\n  display: inline-block;\n  width: fit-content;\n}\n.app-loader__spinner {\n  position: absolute;\n  z-index: 3;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  width: 100px;\n  height: 100px;\n  background: transparent;\n  border: 4px solid #EBEDF4;\n  border-radius: 50%;\n  text-align: center;\n  line-height: 120px;\n  font-family: sans-serif;\n  font-size: 20px;\n  letter-spacing: 4px;\n  text-transform: uppercase;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.app-loader__spinner:before {\n  content: "";\n  position: absolute;\n  top: -3px;\n  left: -3px;\n  width: 100%;\n  height: 100%;\n  border: 3px solid transparent;\n  border-top: 3px solid #1141D2;\n  border-right: 4px solid #1141D2;\n  border-radius: 50%;\n  animation: app-loader__spinner 1s linear infinite;\n}\n'}},o={};function i(e){var t=o[e];return void 0!==t||(t=o[e]={exports:{}},n[e](t,t.exports,i)),t.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var e={};{
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
i.r(e),i.d(e,{default:()=>t});var r=i(/*! ./types */"./src/types/index.ts"),a=i(/*! ./utils */"./src/utils.ts");function s(e){if(!(this instanceof s))return new s(e);var t=d(Object.keys(e),r.supportedProps);if(t.length)throw new Error("Unsupported props: ".concat(t.join(",")));t=(t="".concat(e.env).toUpperCase())!=r.ENVIRONMENT.PRODUCTION&&(t==r.ENVIRONMENT.DEVELOPMENT||t==r.ENVIRONMENT.TEST)?r.ENVIRONMENT.DEVELOPMENT:r.ENVIRONMENT.PRODUCTION;return e.env=t,e.theme?e.theme="dark"==String(e.theme).toLowerCase()?"dark":"light":e.theme="light",s.prototype.config=e,s.prototype.utils=(0,a.utils)(),this}s.prototype.initializePay=function(){if(Object.values(this.config).length<r.supportedProps.length-1)throw new Error("Konnadex Misconguration,Check initilization Parameters. Supported parameters (".concat(r.supportedProps.join(", "),")"));var e=s.prototype.utils.init({title:"KonnadexConfig",config:{key:this.config.key,reference:this.config.reference,productType:this.config.productType,amount:this.config.amount,displayAsset:this.config.displayAsset,paymentAsset:this.config.paymentAsset,network:this.config.network,env:this.config.env,theme:this.config.theme}});s.prototype.iframe=e,s.prototype.onSuccess=this.config.onSuccess,s.prototype.onError=this.config.onError,s.prototype.onClose=this.config.onClose,this.openPay()};var d=function(e,t){return e.filter(function(e){return!t.includes(e)})};s.prototype.openPay=function(){s.prototype.utils.openWidget({config:this.config}),s.prototype.eventHandler=function(e){if(e.data.appOrigin===this.origin)switch(e.data.type){case"ready":document.getElementById("pay-app-loader").style.display="none";break;case"konna.success":s.prototype.success(e.data);break;case"konna.exit":console.log(e.data.type),s.prototype.close(e.data);break;case"konna.error":s.prototype.error(e.data);break;case"konna.copy":"clipboard"in navigator?navigator.clipboard.writeText(e.data.data.RECIPIENT):document.execCommand("copy",!0,e.data.data.RECIPIENT)}}.bind(this),window.addEventListener("message",this.eventHandler,!1)},s.prototype.close=function(e){window.removeEventListener("message",this.eventHandler,!1),this.onClose(e),s.prototype.utils.closeWidget()},s.prototype.success=function(e){this.onSuccess(e)},s.prototype.error=function(e){this.onError(e)},window&&(window.KonnadexCheckout=s);const t=s}})();